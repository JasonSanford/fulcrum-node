{"version":3,"sources":["../../src/resources/authorization.js"],"names":["Authorization","object","email","password","encoded","base64","encode","options","body","attributesForObject","headers","client","noTokenApi","post","createAction","resourceName","id","api","memberActionPath","collectionPath","Resource","List","includeInto","Find","Update","Delete"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;AAEA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;IAEqBA,a;;;;;;;;;;;2GAaNC,M,EAAQC,K,EAAOC,Q;;;;;;AACpBC,uB,GAAUC,eAAOC,MAAP,CAAiBJ,KAAjB,SAA0BC,QAA1B,C;AACVI,uB,GAAU;AACdC,wBAAM,KAAKC,mBAAL,CAAyBR,MAAzB,CADQ;AAEdS,2BAAS;AACP,gDAA0BN,OADnB;AAEP,8BAAU,kBAFH;AAGP,oCAAgB;AAHT;AAFK,iB;;uBASG,KAAKO,MAAL,CAAYC,UAAZ,CAChBC,IADgB,CACX,KAAKC,YADM,EACQP,OADR,C;;;AAAbC,oB;iDAGCA,KAAK,KAAKO,YAAV,C;;;;;;;;;;;;;;;;;;;6GAGQC,E;;;;;;;uBACI,KAAKL,MAAL,CAAYM,GAAZ,CAAgBJ,IAAhB,CAAqB,KAAKK,gBAAL,CAAsBF,EAAtB,EAA0B,YAA1B,CAArB,C;;;AAAbR,oB;kDAECA,KAAK,KAAKO,YAAV,C;;;;;;;;;;;;;;;;;;wBAhCU;AACjB,aAAO,eAAP;AACD;;;wBAEmB;AAClB,aAAO,gBAAP;AACD;;;wBAEkB;AACjB,aAAO,KAAKI,cAAL,EAAP;AACD;;;EAXwCC,c;;kBAAtBpB,a;;;AAqCrBqB,eAAKC,WAAL,CAAiBtB,aAAjB;AACAuB,eAAKD,WAAL,CAAiBtB,aAAjB;AACAwB,iBAAOF,WAAP,CAAmBtB,aAAnB;AACAyB,iBAAOH,WAAP,CAAmBtB,aAAnB","file":"authorization.js","sourcesContent":["import base64 from 'base-64';\n\nimport List from '../actions/list';\nimport Find from '../actions/find';\nimport Update from '../actions/update';\nimport Delete from '../actions/delete';\nimport Resource from './base';\n\nexport default class Authorization extends Resource {\n  get resourceName() {\n    return 'authorization';\n  }\n\n  get resourcesName() {\n    return 'authorizations';\n  }\n\n  get createAction() {\n    return this.collectionPath();\n  }\n\n  async create(object, email, password) {\n    const encoded = base64.encode(`${email}:${password}`);\n    const options = {\n      body: this.attributesForObject(object),\n      headers: {\n        'Authorization': `Basic ${encoded}`,\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      }\n    };\n\n    const body = await this.client.noTokenApi\n      .post(this.createAction, options);\n\n    return body[this.resourceName];\n  }\n\n  async regenerate(id) {\n    const body = await this.client.api.post(this.memberActionPath(id, 'regenerate'));\n\n    return body[this.resourceName];\n  }\n}\n\nList.includeInto(Authorization);\nFind.includeInto(Authorization);\nUpdate.includeInto(Authorization);\nDelete.includeInto(Authorization);\n"]}